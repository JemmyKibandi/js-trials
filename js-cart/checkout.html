<!DOCTYPE html>
<html data-theme="lemonade">

<head>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@3.5.1/dist/full.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link rel="icon" href="./logo.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .hidden-section {
      display: none;
    }
  </style>
  <title>JS CART 2023</title>
</head>

<body>
  <div class="navbar bg-base-100">
    <div class="navbar-start">
      <div class="dropdown">
        <label tabindex="0" class="btn btn-ghost btn-circle">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
          </svg>
        </label>
        <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
          <li><a>Homepage</a></li>
          <li><a>Portfolio</a></li>
          <li><a>About</a></li>
        </ul>
      </div>
    </div>
    <div class="navbar-center">
      <a class="btn btn-ghost normal-case text-xl">daisyUI</a>
    </div>
    <div class="navbar-end">
      <button class="btn btn-ghost btn-circle" class="btn">
        <label tabindex="0" class="btn btn-ghost btn-circle">
          <div class="indicator">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
            <span id="cartButton" class="badge badge-sm indicator-item">0</span>
          </div>
        </label>
      </button>
      <button class="btn btn-ghost btn-circle">
        <div class="indicator">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
          <span class="badge badge-xs badge-primary indicator-item"></span>
        </div>
      </button>
    </div>
  </div>
  <div class="mt-8">
    <ul class="space-y-4">
      <li class="flex items-center gap-4">
        <img id="image"
          src="https://images.unsplash.com/photo-1618354691373-d851c5c3a990?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=830&q=80"
          alt="" class="h-16 w-16 rounded object-cover" />

        <div>
          <h3 class="text-sm text-gray-900" id="selectedItem"></h3>
          <dl class="mt-0.5 space-y-px text-[10px] text-gray-600">
            <div>
              <dt class="inline">Qty:</dt>
              <dd class="inline" id="selectedItemQty"></dd>
            </div>
          </dl>
        </div>

        <div class="flex flex-1 items-center justify-end gap-2">
          <form>
            <label for="Line1Qty" class="sr-only"> Quantity </label>

            <input type="number" min="1" value="1"
              class="h-8 w-12 rounded border-gray-200 bg-gray-50 p-0 text-center text-xs text-gray-600 [-moz-appearance:_textfield] focus:outline-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none"
              disabled />
          </form>

          <button class="text-gray-600 transition hover:text-red-600">
            <span class="sr-only">Remove item</span>

            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="h-4 w-4">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" />
            </svg>
          </button>
        </div>
      </li>

      <div class="mt-8 flex justify-end border-t border-gray-100 pt-8">
        <div class="w-screen max-w-lg space-y-4">
          <dl class="space-y-0.5 text-sm text-gray-700">
            <div class="flex justify-between !text-base font-medium">
              <dt></dt>
              <dd id="cartTotal">$0</dd>
            </div>
          </dl>

          <div class="flex justify-end">
            <span
              class="inline-flex items-center justify-center rounded-full bg-indigo-100 px-2.5 py-0.5 text-indigo-700">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="-ms-1 me-1.5 h-4 w-4">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 010 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 010-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375z" />
              </svg>

              <p class="whitespace-nowrap text-xs">Hey</p>
            </span>
          </div>

          <div class="flex justify-end">
            <a href="./checkout.html"
              class="block rounded bg-gray-700 px-5 py-3 text-sm text-gray-100 transition hover:bg-gray-600">
              Checkout
            </a>
          </div>
        </div>
      </div>
  </div>
  <script>
    // Get elements
    const cartButton = document.getElementById('cartButton');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const addToCartButtons = document.querySelectorAll('.add-to-cart');
    const selectedItemQty = document.getElementById('selectedItemQty');
  
    let cart = [];
    let uniqueItemsSet = new Set();
  
    // Event listeners for "Add to Cart" buttons
    addToCartButtons.forEach(button => {
      button.addEventListener('click', (e) => {
        const productName = button.getAttribute('data-product');
        const productPrice = parseFloat(button.getAttribute('data-price'));
  
        cart.push({ name: productName, price: productPrice });
        uniqueItemsSet.add(productName);
  
        updateCart();
  
        e.preventDefault();
      });
    });
  
    // Update cart display
    function updateCart() {
      cartItems.innerHTML = '';
      let total = 0;
      const itemsAdded = new Set(); // Keep track of items already added
  
      cart.forEach(item => {
        const itemName = item.name;
        if (!itemsAdded.has(itemName)) {
          const quantity = countItemsInCart(itemName);
          const totalPriceForItem = quantity * item.price;
  
          const cartItem = document.createElement('li'); // Create cart item
          cartItem.innerHTML = `
            <div class="mt-8">
              <ul class="space-y-4">
                <li class="flex items-center gap-4">
                  <!-- Add image here -->
                  <div>
                    <h3 class="text-sm text-gray-900">${itemName}</h3>
                    <p class="text-gray-600">$${item.price}</p>
                    <p class="text-gray-600">Qty: ${quantity}</p>
                  </div>
                  <div class="flex flex-1 items-center justify-end gap-2">
                      <form>
                      <label for="Line1Qty" class="sr-only"> Quantity </label>
    
                      <input
                        type="number"
                        min="1"
                        value="${quantity}"
                        class="h-8 w-12 rounded border-gray-200 bg-gray-50 p-0 text-center text-xs text-gray-600 [-moz-appearance:_textfield] focus:outline-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none"
                      
                      />
                      <input
                        type="number"
                        value="${totalPriceForItem}"
                        <id="singletot"
                        class="h-8 w-12 rounded border-gray-200 bg-gray-50 p-0 text-center text-xs text-gray-600 [-moz-appearance:_textfield] focus:outline-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none"
                      
                      />                        </form>
                  </div>
                </li>
              </ul>
            </div>
          `;
  
          cartItems.appendChild(cartItem);
          itemsAdded.add(itemName); // Mark item as added
          total += totalPriceForItem;
        }
      });
  
      cartTotal.textContent = `$${total}`;
      cartButton.textContent = `${cart.length}`;
  
      // Update selected item display
      selectedItemQty.innerHTML = '';
      uniqueItemsSet.forEach(itemName => {
        const itemQty = document.createElement('div');
        itemQty.textContent = `${itemName}: ${countItemsInCart(itemName)}`;
        selectedItemQty.appendChild(itemQty);
      });
    }
  
    // Count the number of items with a specific name in the cart
    function countItemsInCart(itemName) {
      return cart.filter(item => item.name === itemName).length;
    }
  
    // Initialize cart display
    updateCart();
  </script>
  


</body>

</html>